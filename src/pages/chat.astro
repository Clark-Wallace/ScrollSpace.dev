---
import Layout from '../layouts/Layout.astro';
---

<Layout title="ScrollSpace Chat" description="Retro AOL-style chatroom for ScrollSpace community">
  <!-- Basic Test Elements -->
  <div style="position: fixed; top: 10px; right: 10px; background: red; color: white; padding: 10px; z-index: 9999; font-family: monospace;">
    STATIC_TEST_ELEMENT
  </div>
  
  <!-- Chat App Container -->
  <div id="chat-app">
    <div style="position: fixed; top: 50px; right: 10px; background: blue; color: white; padding: 10px; z-index: 9998; font-family: monospace;">
      FALLBACK_CONTENT
    </div>
  </div>
</Layout>

<script>
  console.log('Chat script loading...');
  
  // Simple test first
  const testDiv = document.createElement('div');
  testDiv.style.cssText = 'position: fixed; top: 90px; right: 10px; background: green; color: white; padding: 10px; z-index: 9997; font-family: monospace;';
  testDiv.textContent = 'JS_WORKING';
  document.body.appendChild(testDiv);
  
  // Test if React is available
  try {
    import('react').then(() => {
      console.log('React loaded successfully');
      const reactDiv = document.createElement('div');
      reactDiv.style.cssText = 'position: fixed; top: 130px; right: 10px; background: purple; color: white; padding: 10px; z-index: 9996; font-family: monospace;';
      reactDiv.textContent = 'REACT_LOADED';
      document.body.appendChild(reactDiv);
    }).catch(err => {
      console.error('React failed to load:', err);
      const errorDiv = document.createElement('div');
      errorDiv.style.cssText = 'position: fixed; top: 130px; right: 10px; background: orange; color: white; padding: 10px; z-index: 9996; font-family: monospace;';
      errorDiv.textContent = 'REACT_FAILED';
      document.body.appendChild(errorDiv);
    });
  } catch (error) {
    console.error('Import failed:', error);
  }
</script>